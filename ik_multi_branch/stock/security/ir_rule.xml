<?xml version="1.0" encoding="utf-8"?>
    <odoo noupdate="0">
         
        <record id="branch_user_see_only_account_payment" model="ir.rule">
            <field name="name">branch: Internal users See only related branch payments</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="global" eval="True"/>
            <field name="groups" eval="[
            (4, ref('account.group_account_readonly')),
            (4, ref('account.group_account_invoice')),
            ]"/>
            <field name="domain_force">['|',('branch_id.id', '=', user.branch_id.id),('branch_id.id', 'in', user.branch_ids.ids)]</field>
        </record>

        <record id="branch_user_see_only_account_batch_payment" model="ir.rule">
            <field name="name">branch: Internal users See only related branch batch payments</field>
            <field name="model_id" ref="account_batch_payment.model_account_batch_payment"/>
            <field name="global" eval="True"/>
            <field name="domain_force">[
            ('branch_id.id', '=', user.branch_id.id)]
            </field>
        </record>

        <record id="branch_admin_all_only_account_batch_payment" model="ir.rule">
            <field name="name">branch: Internal admin all only related branch batch payments</field>
            <field name="model_id" ref="account_batch_payment.model_account_batch_payment"/>
            <field name="global" eval="True"/>
            <field name="domain_force">[
            (1, '=', 1)]
            </field>
        </record>

        

        <record id="branch_user_see_all_acount_journal" model="ir.rule">
            <field name="name">branch: top account users See all journal</field>
            <field name="model_id" ref="account.model_account_journal"/>
            <field name="global" eval="True"/>
            <field name="groups" eval="[
            (4, ref('ik_multi_branch.account_major_user')),
            ]"/>
            <field name="domain_force">[(1,'=',1)]</field>
        </record>

        <record id="branch_user_see_all_acount_payment" model="ir.rule">
            <field name="name">branch: top account users See all payment</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="global" eval="True"/>
            <field name="groups" eval="[
            (4, ref('ik_multi_branch.account_major_user')),
            ]"/>
            <field name="domain_force">[(1,'=',1)]</field>
        </record>
        
        <record id="branch_user_see_only_stock_location" model="ir.rule">
            <field name="name">branch: Internal users See only related all stock location</field>
            <field name="model_id" ref="stock.model_stock_location"/>
            <field name="global" eval="True"/>
            <field name="groups" eval="[
            (4, ref('base.group_user')),
            (4, ref('base.group_portal')),
            ]"/>
            <field name="domain_force">['|', ('branch_id', '=', user.branch_id.id), ('branch_id.id', 'in', user.branch_ids.ids), ('usage', 'not in', ['internal'])]</field>
        </record>

        <record id="branch_admin_see_all_stock_location_in_company" model="ir.rule">
            <field name="name">branch: Inventory admin See all company location</field>
            <field name="model_id" ref="stock.model_stock_location"/>
            <field name="global" eval="True"/>
            <field name="groups" eval="[
            (4, ref('ik_multi_branch.account_major_user')),
            (4, ref('stock.group_stock_manager')),
            ]"/>
            <field name="domain_force">['|',
            ('company_id', 'in', user.company_ids.ids),
            ('company_id', '=', user.company_id.id)]
            </field>
        </record> 

        <record id="branch_user_see_all_stock_location" model="ir.rule">
            <field name="name">branch: top users See all location</field>
            <field name="model_id" ref="stock.model_stock_location"/>
            <field name="global" eval="True"/>
            <field name="groups" eval="[
            (4, ref('base.group_system')),
            ]"/>
            <field name="domain_force">[(1,'=',1)]</field>
        </record> 

    </odoo>
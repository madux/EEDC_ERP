<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Public website page shell -->
        <!-- <template id="tm_taskboard_page" name="Taskboard Page" page="True"> -->
        <template id="tm_taskboard_page" name="Taskboard Page">
            <t t-call="website.layout">
            <div class="container my-5 tm-page tm-taskboard" data-tm-init="True">
                <!-- Header -->
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h2 class="mb-0">My Tasks</h2>
                        <small class="text-muted">To Do • In Progress • Review • Done</small>
                    </div>
                    <div>
                        <button class="btn btn-outline-secondary me-2" id="tm_switch">Switch Staff</button>
                        <button class="btn btn-primary" id="tm_refresh">Refresh</button>
                    </div>
                </div>

                <!-- Login panel (shown if not authenticated) -->
                <div id="tm_login_panel" class="card p-4 mb-4">
                <div class="row g-3 align-items-center">
                    <div class="col-md-3"><label class="form-label">Staff ID</label></div>
                    <div class="col-md-9"><input type="text" id="tm_staff_id" class="form-control" placeholder="e.g. 70017"/></div>
                    <div class="col-md-3"><label class="form-label">Password</label></div>
                    <div class="col-md-9"><input type="password" id="tm_password" class="form-control" placeholder="Default: 12345"/></div>
                </div>
                <div class="mt-3 d-flex align-items-center">
                    <button class="btn btn-primary" id="tm_login_btn">Sign In</button>
                    <div class="ms-3 text-muted small">Pilot mode • Do not share credentials</div>
                </div>
                <div class="text-danger mt-2" id="tm_login_error" style="display:none;"></div>
                </div>

                <!-- Board panel (hidden until auth) -->
                <div id="tm_board_panel" style="display:none;">
                    <!-- Toolbar -->
                    <div class="d-flex flex-wrap gap-2 align-items-center mb-3">
                        <div class="me-auto"><strong id="tm_emp_name">Employee</strong></div>
                        <input id="tm_search" class="form-control form-control-sm" style="max-width:220px" placeholder="Search tasks"/>
                        <select id="tm_filter_priority" class="form-select form-select-sm" style="max-width:160px">
                        <option value="">All priorities</option>
                        <option value="2">High</option>
                        <option value="1">Medium</option>
                        <option value="0">Low</option>
                        </select>
                    </div>

                    <!-- Columns -->
                    <div id="tm_board" class="row g-3 tm-board">
                        JS will render columns/cards here via QWeb templates
                    </div>
                </div>
            </div>
            </t>
        </template>
    </data>
</odoo>
<odoo>
  <data noupdate="1">
    <record id="mail_tmpl_tm_digest" model="mail.template">
      <field name="name">TM: Daily digest</field>
      <field name="model_id" ref="model_tm_task"/>
      <field name="subject">Your tasks – Overdue: ${object["overdue"]} • Due today: ${object["today"]}</field>
      <field name="email_from">${(user.company_id.email or user.email) or 'noreply@example.com'}</field>
      <field name="email_to">${object["email_to"]}</field>
      <field name="body_html"><![CDATA[
        <p>Hello,</p>
        <p>Overdue: <b>${object["overdue"]}</b> • Due today: <b>${object["today"]}</b></p>
        <p>Please check the Task Board for details.</p>
      ]]></field>
    </record>

    <record id="ir_cron_tm_daily_digest" model="ir.cron">
      <field name="name">TM: Daily digest</field>
      <field name="model_id" ref="model_tm_task"/>
      <field name="state">code</field>
      <field name="code">model._cron_daily_digest()</field>
      <field name="interval_number">1</field>
      <field name="interval_type">days</field>
      <field name="numbercall">-1</field>
      <field name="nextcall" eval="(DateTime.now() + relativedelta(hours=8)).strftime('%Y-%m-%d %H:00:00')"/>
    </record>

    <record id="ir_cron_tm_escalation" model="ir.cron">
      <field name="name">TM: Escalate overdue &gt; 2 days</field>
      <field name="model_id" ref="model_tm_task"/>
      <field name="state">code</field>
      <field name="code">model._cron_escalate_overdue()</field>
      <field name="interval_number">1</field>
      <field name="interval_type">days</field>
      <field name="numbercall">-1</field>
      <field name="nextcall" eval="(DateTime.now() + relativedelta(hours=8)).strftime('%Y-%m-%d %H:00:00')"/>
    </record>
  </data>
</odoo>